"use strict";const characterList=document.querySelector(".js_character_list"),favoriteList=document.querySelector(".js-favorite-list"),searchBtn=document.querySelector(".js_btn"),searchInput=document.querySelector(".js_search"),form=document.querySelector(".js_form"),resetBtn=document.querySelector(".js_reset_btn");let allCharacters=[],favoritesCharacters=[];function renderOneCharacter(e){let r="";return-1===favoritesCharacters.findIndex(r=>r.char_id===parseInt(e.char_id))?(r="",console.log("hello"),console.log("hello")):(console.log("gbye"),r="selected"),`<li>\n    <article class="js_article ${r} card" id="${e.char_id}">\n    <span class="photobox">\n      <img class="card_img"\n        src="${e.img}"\n        alt="characterImage">\n        </span>\n        <div class ="text">\n          <h3 class="card_name">${e.name}</h3>\n          <h3 class="card_status">${e.status}</h3>\n        </div>\n    </article>\n    </li>`}function addCharacterListeners(){const e=document.querySelectorAll(".js_article");for(const r of e)r.addEventListener("click",handleClick)}function renderfavoriteCh(){let e="";for(const r of favoritesCharacters)e+=renderOneCharacter(r);favoriteList.innerHTML=e}function renderAllCharacters(e){let r="";for(const t of e)r+=renderOneCharacter(t);characterList.innerHTML=r;document.querySelectorAll(".js_article");addCharacterListeners()}function handleClick(e){e.currentTarget.classList.toggle("selected");const r=allCharacters.find(r=>r.char_id===parseInt(e.currentTarget.id)),t=favoritesCharacters.findIndex(r=>r.char_id===parseInt(e.currentTarget.id));-1===t?favoritesCharacters.push(r):favoritesCharacters.splice(t,1),localStorage.setItem("favoriteCharacter",JSON.stringify(favoritesCharacters)),console.log(favoritesCharacters),renderfavoriteCh()}addCharacterListeners(),form.addEventListener("submit",e=>{e.preventDefault()}),searchBtn.addEventListener("click",()=>{const e=searchInput.value.toLowerCase();console.log(e);const r=allCharacters.filter(r=>r.name.toLowerCase().includes(e)),t=allCharacters.filter(r=>r.status.toLowerCase().includes(e));console.log(r),renderAllCharacters(r),renderAllCharacters(t)}),resetBtn.addEventListener("click",e=>{e.preventDefault(),favoritesCharacters=[];favoriteList.innerHTML=""}),fetch("https://breakingbadapi.com/api/characters").then(e=>e.json()).then(e=>{allCharacters=e,renderAllCharacters(allCharacters)});const savedFavorites=JSON.parse(localStorage.getItem("favoriteCharacter"));null!==savedFavorites&&(favoritesCharacters=savedFavorites,renderfavoriteCh());