{"version":3,"sources":["00_main.js","00_renderCharacters.js","01_fetch.js","02_addFavorites.js","03_search.js","04_localStorage.js","05_resetBtn.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpDA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["\"use strict\";\n\n// Variables qSelector\nconst characterList = document.querySelector('.js_character_list');\nconst favoriteList = document.querySelector('.js-favorite-list');\nconst searchBtn = document.querySelector('.js_btn');\nconst searchInput = document.querySelector('.js_search');\nconst searchStatus = document.querySelector('.js_status');\nconst form = document.querySelector('.js_form');\nconst resetBtn = document.querySelector('.js_reset_btn');\n\n\n//Variables\n\nlet allCharacters = [];\nlet favoritesCharacters = [];\n\n\n\n\n","function handleClick(event) {\n  event.currentTarget.classList.toggle('selected');\n  const selectedCh = allCharacters.find((charac) => charac.char_id === parseInt(event.currentTarget.id));\n  const characterInFavsIndex = favoritesCharacters.findIndex((charac) => charac.char_id === parseInt(event.currentTarget.id));\n  if (characterInFavsIndex === -1) {\n    favoritesCharacters.push(selectedCh);\n  }\n  else {\n    favoritesCharacters.splice(characterInFavsIndex, 1);\n  }\n  localStorage.setItem('favoriteCharacter', JSON.stringify(favoritesCharacters));\n  renderfavoriteCh();\n}\nfunction renderOneCharacter(character) {\n  let classSelected = '';\n  const characterInFavsIndex = favoritesCharacters.findIndex((charac) => charac.char_id === parseInt(character.char_id));\n  if (characterInFavsIndex === -1) {\n    classSelected = '';\n  }\n  else {\n    classSelected = 'selected';\n  }\n  let html = `<li>\n      <article class=\"js_article ${classSelected} card\" id=\"${character.char_id}\"> \n      <span class=\"card__photobox\">\n        <img class=\"card__img\"\n          src=\"${character.img}\"\n          alt=\"characterImage\">\n          </span>\n          <div class =\"text\">\n            <h3 class=\"card__name\">${character.name}</h3>\n            <h3 class=\"card__status\">${character.status}</h3>\n          </div>\n      </article>\n      </li>`;\n  return html;\n}\n\nfunction addCharacterListeners() {\n  const allCards = document.querySelectorAll('.js_article');\n  for (const eachCard of allCards) {\n    eachCard.addEventListener('click', handleClick);\n  }\n}\nfunction renderAllCharacters(characters) {\n  let html = '';\n  for (const eachCharacter of characters) {\n    html += renderOneCharacter(eachCharacter);\n  }\n  characterList.innerHTML = html;\n  addCharacterListeners();\n}\naddCharacterListeners();","fetch('./assets/data/characters.json')\n  .then((response) => response.json())\n  .then((data) => {\n    allCharacters = data;\n    renderAllCharacters(allCharacters);\n  });","\nfunction renderfavoriteCh() {\n  let html = '';\n  for (const eachCharacter of favoritesCharacters) {\n    html += renderFAVCharacter(eachCharacter);\n  }\n  favoriteList.innerHTML = html;\n  const xfavorite = document.querySelectorAll('.js_x_favorite');\n  for (const onex of xfavorite) {\n    onex.addEventListener('click', handleClickCancellFav);\n  }\n}\nfunction renderFAVCharacter(character) {\n  let html = `<li>\n      <article class=\"selectedfav card\" id=\"${character.char_id}\"> \n      <p class=\"xfavorite js_x_favorite\" id=\"${character.char_id}\">X</p>\n      <span class=\"card__photobox\">\n        <img class=\"card__img\"\n          src=\"${character.img}\"\n          alt=\"characterImage\">\n          </span>\n          <div class =\"text\">\n            <h3 class=\"card__name\"\">${character.name}</h3>\n            <h3 class=\"card__status\">${character.status}</h3>\n          </div>\n      </article>\n      </li>`;\n  return html;\n}\nfunction handleClickCancellFav(event) {\n  event.preventDefault();\n  const characterInFavsIndex = favoritesCharacters.findIndex((charac) => charac.char_id === parseInt(event.currentTarget.id));\n  favoritesCharacters.splice(characterInFavsIndex, 1);\n  renderfavoriteCh();\n  localStorage.setItem('favoriteCharacter', JSON.stringify(favoritesCharacters));\n  let char_id = event.currentTarget.id;\n  const articles = document.getElementById(`${char_id}`);\n  articles.classList.remove('selected');\n}","form.addEventListener('submit', (event) => {\n  event.preventDefault();\n})\nsearchBtn.addEventListener('click', () => {\n  const userSearch = searchInput.value.toLowerCase();\n  const searchStatusValue = searchStatus.value;\n  if (userSearch && (searchStatusValue !== 'All')) {\n    const superfilter = allCharacters.filter((eachCharacter) => eachCharacter.name.toLowerCase().includes(userSearch)).filter((eachCharacter) => eachCharacter.status.includes(searchStatusValue));\n    renderAllCharacters(superfilter);\n  }\n  else if (userSearch) {\n    const filteredCharacters = allCharacters.filter((eachCharacter) => eachCharacter.name.toLowerCase().includes(userSearch));\n    renderAllCharacters(filteredCharacters);\n  }\n  else if (searchStatusValue) {\n    const filteredStatus = allCharacters.filter((eachCharacter) => {\n      if (searchStatusValue === 'All') { //para forzale a darno contenido al render, de modo que siempre muestre todos\n        return true;\n      }\n      else {\n        return eachCharacter.status.includes(searchStatusValue);\n      }\n    });\n    renderAllCharacters(filteredStatus);\n  }\n\n})\n","const savedFavorites = JSON.parse(localStorage.getItem('favoriteCharacter'));\nif (savedFavorites !== null) {\n  favoritesCharacters = savedFavorites;\n  renderfavoriteCh();\n}\n","resetBtn.addEventListener(\"click\", (event) => {\n\tevent.preventDefault();\n  favoritesCharacters = [];\n  let html = '';\n  favoriteList.innerHTML = html;\n  localStorage.removeItem('favoriteCharacter');\n  renderAllCharacters(allCharacters);\n  searchInput.value = '';\n})\n\n"]}